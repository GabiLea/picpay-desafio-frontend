<div class="container">
    <section class="header">
        <div>
            <img src="assets/images/texto-logo.png" alt="">
        </div>
        <div>
            <img src="assets/images/user.png" class='user_img' alt="">
        </div>
    </section>

    <section class="body" [class]="{blur: blur}">
        <div class="content">
            <div class="content-top">
                <h1>Meus Pagamentos</h1>
                <button (click)="openAddPaymentPopup()" mat-flat-button class='add-btn' color="primary">ADICIONAR PAGAMENTO</button>
            </div>

            <div class='table-container'>
                <div class='table-header'>
                    <div class="filters">
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Pesquisar por usuário">
                            <mat-icon matSuffix>search</mat-icon>
                        </mat-form-field>
                        <button mat-flat-button class='search-btn'>
                            <mat-icon matSuffix>tune</mat-icon>
                            Filtrar
                        </button>
                    </div>
    
                    <div class="paginator">
                        <app-paginator></app-paginator>
                    </div>
                </div>

                <div class='table-body'>
                    <table mat-table [dataSource]="mock_payments" class="mat-elevation-z8">

                        <!--- Note mat-header-cellat mat-header-cellese columns can be defined in any order.
                              mat-header-celle actual rendered columns are set as a property on mat-header-celle row definition" -->
                      
                        <!-- Position Column -->
                        <ng-container matColumnDef="name">
                          <mat-header-cell *matHeaderCellDef> Usuário </mat-header-cell>
                          <mat-cell *matCellDef="let payment">
                              <span> {{payment.name}} </span>
                              <sub> @{{payment.username}} </sub>
                        </mat-cell>
                        </ng-container>
                      
                        <!-- Name Column -->
                        <ng-container matColumnDef="title">
                          <mat-header-cell *matHeaderCellDef> Título </mat-header-cell>
                          <mat-cell *matCellDef="let payment"> {{payment.title}} </mat-cell>
                        </ng-container>
                      
                        <!-- Weight Column -->
                        <ng-container matColumnDef="date">
                          <mat-header-cell *matHeaderCellDef> Data </mat-header-cell>
                          <mat-cell *matCellDef="let payment">
                              <span> {{payment.date | date:'dd MMM YYYY'}} </span>
                              <sub> {{payment.date | date:' h:mm a'}} </sub>
                        </mat-cell>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="value">
                          <mat-header-cell *matHeaderCellDef> Valor </mat-header-cell>
                          <mat-cell *matCellDef="let payment"> {{payment.value | currency:'R$ '}} </mat-cell>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="isPayed">
                            <mat-header-cell *matHeaderCellDef> Pago </mat-header-cell>
                            <mat-cell *matCellDef="let payment">
                                <mat-checkbox
                                    class="example-margin"
                                    color="accent"
                                    [checked]="payment.isPayed">
                                </mat-checkbox>
                            </mat-cell>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="action">
                            <mat-header-cell *matHeaderCellDef></mat-header-cell>
                            <mat-cell *matCellDef="let payment">
                                <div>
                                    <span (click)="openEditPaymentPopup(payment)" class="material-icons action-btn"> edit </span>
                                    <span (click)="openDeletePaymentPopup(payment)" class="material-icons action-btn"> highlight_off </span>
                                </div>
                            </mat-cell>
                        </ng-container>
                      
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                      </table>
                </div>
            </div>
        </div>
    </section>
</div>
<app-add-payment *ngIf="addPaymentPopup" (close)='closePopup();' (submit)="closePopup(); addPayment($event);"></app-add-payment>
<app-edit-payment *ngIf="editPaymentPopup" (close)='closePopup();' (submit)="closePopup(); editPayment($event);" [payment]="payment"></app-edit-payment>