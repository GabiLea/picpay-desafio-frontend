<header>
    <img src="../../assets/imgs/Logo_dark.svg" />
</header>
<main>
    <h1 class="titulo-pagina">Meus pagamentos</h1>

    <div class="flex-end">
        <button mat-raised-button color="primary" (click)="adicionarPagamento()"> ADICIONAR PAGAMENTO </button>
    </div>

    <section>
        <div>
            <mat-form-field appearance="standard">
                <mat-label>Pesquisar por usuário</mat-label>
                <input matInput (keyup)="filtrar($event)" [(ngModel)]="textoPesquisa" placeholder="Ex. João" #input />
                <img src="../../../assets/icons/lupa.svg" />
            </mat-form-field>

            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="paginação da tabela de pagamentos">
            </mat-paginator>
        </div>

        <div>
            <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Usuário</th>
                    <td mat-cell *matCellDef="let row">
                        <div id="td-usuario">
                            <span>{{ row.name }}</span>
                            <span class="secondaryText">@{{ row.username }}</span>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="title">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Título</th>
                    <td mat-cell *matCellDef="let row">{{ row.title }}</td>
                </ng-container>

                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Data</th>
                    <td mat-cell *matCellDef="let row">
                        <div id="td-data">
                            <span>{{row.date | date:'dd MMM YYYY' }}</span>
                            <span class="secondaryText">{{ row.date | date:' h:mm a' }}</span>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="value">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Valor</th>
                    <td mat-cell *matCellDef="let row">
                        {{ row.value | currency:'R$ ' }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="isPayed">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Pago</th>

                    <td mat-cell *matCellDef="let row">
                        <mat-checkbox [(ngModel)]="row.isPayed" color="primary">
                        </mat-checkbox>
                    </td>
                </ng-container>

                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row">
                        <div id="td-acoes">
                            <img (click)="editar(row.id)" src="../../../assets/icons/lapis.svg" />

                            <img (click)="excluir(row.id)" src="../../../assets/icons/excluir.svg" />
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
                <tr mat-row *matRowDef="let row; columns: getDisplayedColumns()"></tr>

                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">Nenhum usuário foi encontrado.</td>
                </tr>
            </table>
        </div>
    </section>
</main>