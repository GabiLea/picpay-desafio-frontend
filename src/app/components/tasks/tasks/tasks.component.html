<div class="page-wrapper">
  <div class="page-content">
    <div>
      <h1>Meus Pagamentos</h1>
    </div>
    <div fxLayoutAlign="end end">
      <button
        mat-raised-button
        (click)="openDialog('Add', tasks)"
        color="primary"
      >
        Adicionar pagamento
      </button>
    </div>

    <div class="example-container mat-elevation-z8">
      <div fxLayout="row" fxFill fxLayoutAlign="space-between">
        <mat-form-field
          class="field-search"
          fxLayoutAlign="start start"
          appearance="outline"
        >
          <mat-label>Pesquisar por usu√°rio</mat-label>
          <input
            matInput
            (keyup)="applyFilter($event)"
            placeholder="Pesquisar"
            type="search"
            #input
          />
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
        <mat-paginator
          [length]="allTasks"
          [pageSize]="5"
          [pageSizeOptions]="[5, 10, 25, 100]"
          (page)="pageEvent = $event; onPaginateChange($event)"
          showFirstLastButtons
          fxLayoutAlign="end flex-start"
        >
        </mat-paginator>
      </div>
      <mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="name" >
          <mat-header-cell *matHeaderCellDef mat-sort-header>
            Usuario
          </mat-header-cell>
          <mat-cell *matCellDef="let row" >
            <p>{{ row.name }} <br><span class="user-content">@{{ row.username }}</span></p>
            
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="title">
          <mat-header-cell *matHeaderCellDef mat-sort-header>
            Titulo
          </mat-header-cell>
          <mat-cell *matCellDef="let row"> <p>{{ row.title }}</p> </mat-cell>
        </ng-container>

        <ng-container matColumnDef="date">
          <mat-header-cell *matHeaderCellDef mat-sort-header>
            Data
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <p>{{ row.date | date: "d MMM y, h:mm:ss a" }}</p>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="value">
          <mat-header-cell *matHeaderCellDef mat-sort-header>
            Valor
          </mat-header-cell>
          <mat-cell *matCellDef="let row" [style.color]="row.value">
            <p>R$ {{ row.value }}</p>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="isPayed">
          <mat-header-cell *matHeaderCellDef mat-sort-header>
            Pago
          </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <mat-checkbox class="example-margin" [checked]="row.isPayed">
            </mat-checkbox
          ></mat-cell>
        </ng-container>

        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef mat-sort-header> </mat-header-cell>
          <mat-cell *matCellDef="let row" class="action-link">
            <button
              mat-icon-button
              (click)="openDialog('Update', row)"
              aria-label="icon in button"
            >
              <mat-icon>edit</mat-icon>
            </button>
            <button
              mat-icon-button
              (click)="openDialog('Delete', row)"
              aria-label="icon in button"
            >
              <mat-icon>close</mat-icon>
            </button>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"> </mat-row>
      </mat-table>
    </div>
  </div>
</div>
