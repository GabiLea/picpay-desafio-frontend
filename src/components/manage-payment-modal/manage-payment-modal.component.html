<div class="header-modal">
    {{ data.title }}
    <mat-icon  (click)="close()">close</mat-icon>
</div>
<div class="body-modal">
    <form *ngIf="!data.isTaskRemove" [formGroup]="taskFormGroup">
        <div class="form-row">
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Usuário</mat-label>
                    <input matInput placeholder="Usuário" formControlName="name">
                    <mat-error>
                        Campo <strong>obrigatório</strong>!
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Nome de usuário</mat-label>
                    <input matInput placeholder="Nome de usuário" formControlName="username">
                    <mat-error>
                        Campo <strong>obrigatório</strong>!
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Data</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="date" [readonly]="true">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Horário</mat-label>
                    <input matInput type="time" formControlName="time" #time step="1">                
                </mat-form-field>
            </div>
        </div>
        <div class="form-row" >
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Valor</mat-label>
                    <input currencyMask matInput placeholder="Valor" formControlName="value">
                    <mat-error>
                        Campo <strong>obrigatório</strong>!
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Titulo</mat-label>
                    <input matInput placeholder="Titulo" formControlName="title">
                </mat-form-field>
            </div>
        </div>
        
        <div class="form-row" >
            <div class="form-control">
                <mat-form-field appearance="outline">
                    <mat-label>Pago</mat-label>
                    <mat-select formControlName="isPayed" [(ngModel)]="selectedOption.value">
                        <mat-option *ngFor="let option of selectOptions" [value]="option.value">
                            {{option.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            
        </div>
        
    </form>

    <div *ngIf="data.isTaskRemove">        
        <p><b>Usuário:</b>{{" "}}{{data.taskToBeRemoved.name}} </p>
        <p><b>Data:</b>{{" "}}{{data.taskToBeRemoved.date | date:"dd/MM/yyyy hh:mm a"}}</p>
        <p><b>Valor:</b>{{" "}}{{data.taskToBeRemoved.value | currency : 'BRL'}}</p>         
    </div>
</div>
<div class="footer-modal ">
    <button class="back-btn" matTooltip="Voltar" mat-button type="button" (click)="close()">
        Cancelar
    </button>
    <button *ngIf="!data.isTaskRemove" (click)="confirm()" class="submit-btn" mat-button type="button" 
        [disabled]="!taskFormGroup.controls.username.valid || !taskFormGroup.controls.value.valid || !taskFormGroup.controls.title.valid" >
        Salvar
    </button>

    <button *ngIf="data.isTaskRemove" (click)="confirm()" class="submit-btn" mat-button type="button" 
        [disabled]="!data.isTaskRemove" >
        Continuar
    </button>
</div>